local Players = game:GetService("Players")
local lp = Players.LocalPlayer

_G.AutoPick = false

local PICK_DISTANCE = 18      -- khoảng cách nhặt
local MAX_PER_LOOP = 2        -- giới hạn mỗi vòng (chống giật)
local LOOP_DELAY = 0.45       -- càng lớn càng mượt

task.spawn(function()
    while task.wait(LOOP_DELAY) do
        if not _G.AutoPick then continue end

        local char = lp.Character
        if not char then continue end
        local hrp = char:FindFirstChild("HumanoidRootPart")
        if not hrp then continue end

        local picked = 0

        for _, v in ipairs(workspace:GetDescendants()) do
            if picked >= MAX_PER_LOOP then break end

            if v:IsA("Tool") and v:FindFirstChild("Handle") then
                local handle = v.Handle
                local dist = (hrp.Position - handle.Position).Magnitude

                if dist <= PICK_DISTANCE then
                    hrp.CFrame = handle.CFrame * CFrame.new(0, 2, 0)
                    picked += 1
                    task.wait(0.15)
                end
            end
        end
    end
end)
