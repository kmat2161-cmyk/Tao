-- [[ tri73637 - ZERO LAG MOVEMENT ]] --
local lp = game:GetService("Players").LocalPlayer
local pps = game:GetService("ProximityPromptService")

-- Cấu hình
local RANGE = 22

-- Tắt kiểm tra khoảng cách của Prompt để nhặt mượt hơn
pps.PromptTriggered:Connect(function(prompt)
    prompt.HoldDuration = 0
end)

task.spawn(function()
    while task.wait(0.3) do -- Tần suất vừa đủ để không bị nghẽn mạng (Ping cao gây lag di chuyển)
        local hrp = lp.Character and lp.Character:FindFirstChild("HumanoidRootPart")
        if not hrp then continue end

        -- Sử dụng GetPartBoundsInRadius để tìm đồ vật xung quanh (Cực nhanh, không lag)
        local overlapParams = OverlapParams.new()
        overlapParams.FilterType = Enum.RaycastFilterType.Exclude
        overlapParams.FilterDescendantsInstances = {lp.Character}

        local nearbyParts = workspace:GetPartBoundsInRadius(hrp.Position, RANGE, overlapParams)
        
        for _, part in pairs(nearbyParts) do
            -- Tìm ProximityPrompt trong vật thể hoặc cha của nó
            local prompt = part:FindFirstChildOfClass("ProximityPrompt") or part.Parent:FindFirstChildOfClass("ProximityPrompt")
            
            if prompt then
                task.spawn(function()
                    prompt.HoldDuration = 0
                    fireproximityprompt(prompt)
                end)
            end
        end
    end
end)
