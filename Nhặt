-- [[ tri73637 - AUTO PROXIMITY ONLY ]] --
local lp = game:GetService("Players").LocalPlayer

task.spawn(function()
    while task.wait(0.2) do
        pcall(function()
            local character = lp.Character
            if not character then return end
            
            local hrp = character:FindFirstChild("HumanoidRootPart")
            if not hrp then return end

            -- Duyệt tìm các vật phẩm có ProximityPrompt trong Workspace
            for _, v in pairs(workspace:GetDescendants()) do
                if v:IsA("ProximityPrompt") then
                    local parent = v.Parent
                    if parent then
                        -- Xác định vị trí của vật phẩm
                        local targetPos = parent:IsA("BasePart") and parent.Position or (parent:IsA("Model") and parent:GetModelCFrame().p)
                        
                        if targetPos then
                            -- Kiểm tra khoảng cách (22 studs)
                            if (hrp.Position - targetPos).Magnitude < 22 then
                                v.HoldDuration = 0 -- Nhặt tức thì không cần đợi thanh tiến trình
                                fireproximityprompt(v)
                            end
                        end
                    end
                end
            end
        end)
    end
end)
